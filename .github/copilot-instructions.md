If I type only 'details': Add as many comments as you can to provide backround and explanation for what is happening in this file. 

If I ask for "tour": Provide a detailed, step-by-step walkthrough of the code in this file, explaining the purpose of the file and then the function of each part, but in the chat window, not in the file itself.